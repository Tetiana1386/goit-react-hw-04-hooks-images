(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{37:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=(a(37),a(6)),u=a.n(s),i=a(19),l=a(11),j=a(4),b=a(13),f=a.n(b);f.a.defaults.baseURL="https://pixabay.com/api/",f.a.defaults.params={key:"21693934-b739dad2632fdbf7884e4d0a2",image_type:"photo",orientation:"horizontal",per_page:12};var m=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("",{params:{q:t,page:a}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.hits);case 8:return e.prev=8,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),d=(a(57),a(1));var O=function(e){var t=e.children;return Object(d.jsx)("div",{className:"Container",children:t})},p=a(12);a(59),a(60);var h=function(e){var t=e.onHandleSubmit,a=Object(n.useState)(""),r=Object(j.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),!c.trim())return p.b.info("Please enter a value for search images!");t(c),o("")},children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.target;o(t.value)}})]})})};a(61);var g=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.onOpenModal;return Object(d.jsx)("li",{className:"ImageGalleryItem",children:Object(d.jsx)("img",{className:"ImageGalleryItem-image",src:t,alt:n,"data-source":a,onClick:r})})};a(62);var v=function(e){var t=e.images,a=e.onOpenModal;return Object(d.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(d.jsx)(g,{webformatURL:n,largeImageURL:r,tags:c,onOpenModal:a},t)}))})};a(63);var x=function(e){var t=e.onLoadMore;return Object(d.jsx)("div",{className:"Button_wrapper",children:Object(d.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})})},w=a(31),S=a.n(w);a(84),a(85);var y=function(){return Object(d.jsx)("div",{className:"Overlay",children:Object(d.jsx)(S.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:0})})},N=(a(86),document.querySelector("#modal-root"));var k=function(e){var t=e.largeImageURL,a=e.onToggleModal;return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]),Object(c.createPortal)(Object(d.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:Object(d.jsx)("div",{className:"Modal",children:Object(d.jsx)("img",{src:t,alt:""})})}),N)},L=a.p+"static/media/no_result.1fae5933.jpeg";a(87);var I=function(e){var t=e.texterror;return Object(d.jsxs)("div",{role:"alert",className:"Wrapper",children:[Object(d.jsx)("img",{src:L,width:"550",alt:"no_res"}),Object(d.jsx)("p",{text:t,className:"Text",children:t})]})},M=a(32);a(96);var R=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(j.a)(c,2),s=o[0],b=o[1],f=Object(n.useState)(1),g=Object(j.a)(f,2),w=g[0],S=g[1],N=Object(n.useState)(!1),L=Object(j.a)(N,2),R=L[0],U=L[1],F=Object(n.useState)(""),T=Object(j.a)(F,2),C=T[0],E=T[1],B=Object(n.useState)(!1),_=Object(j.a)(B,2),G=_[0],q=_[1],D=Object(n.useState)(null),H=Object(j.a)(D,2),J=H[0],P=H[1];Object(n.useEffect)((function(){a&&function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(a,w);case 3:if(0!==(t=e.sent).length){e.next=6;break}return e.abrupt("return",P("No results were found for ".concat(a,"!")));case 6:b((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P("Something went wrong. Try again.");case 12:return e.prev=12,U(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}()()}),[w,a]);var z=function(){q(!G)},W=function(){M.animateScroll.scrollToBottom()};return Object(d.jsxs)(O,{children:[Object(d.jsx)(h,{onHandleSubmit:function(e){r(e),b([]),S(1),P(null),U(!0)}}),J&&Object(d.jsx)(I,{texterror:J}),R&&Object(d.jsx)(y,{}),s.length>0&&!J&&Object(d.jsx)(v,{images:s,onOpenModal:function(e){E(e.target.dataset.source),z()}}),!R&&s.length>0&&!J&&Object(d.jsx)(x,{onLoadMore:function(){U(!0),S((function(e){return e+1})),W()}}),G&&Object(d.jsx)(k,{onToggleModal:z,largeImageURL:C}),Object(d.jsx)(p.a,{})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.f835e97d.chunk.js.map